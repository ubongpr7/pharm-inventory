{% load static %}
<!DOCTYPE html>
<html dir="ltr">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Favicon icon -->
    <title>{{ title }}</title>
    <!-- Custom CSS -->

</head>

<body>
    {% for message in messages %}
    <p>{{ message }}</p>
    {% endfor %}
    <div class="main-wrapper">

        <div class="preloader">
            <div class="lds-ripple">
                <div class="lds-pos"></div>
                <div class="lds-pos"></div>
            </div>
        </div>
       
        <div class="auth-wrapper d-flex no-block justify-content-center align-items-center bg-white">
            <div class="auth-box bg-dark border-top border-secondary">
                <div>
                    <div class="text-center p-t-20 p-b-20">
                        <span class="db"><img height="50px"src="{% static 'images/logo.png' %}" alt="logo" /></span>
                    </div>
                    <!-- Form -->
                        {% csrf_token %}
                        <div class="row p-b-30">
                            <div class="col-12">
                                <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text bg-success text-white" id="basic-addon1"><i class="ti-user"></i></span>
                                    </div>
                                    <input type="text" class="form-control form-control-lg" placeholder="First name" aria-label="first_name" aria-describedby="basic-addon1" required name="first_name">
                                </div>
                                  <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text bg-success text-white" id="basic-addon1"><i class="fas fa-user"></i></span>
                                    </div>
                                    <input type="text" class="form-control form-control-lg" placeholder="Last name" aria-label="last_name" aria-describedby="basic-addon1" required name="last_name">
                                </div>
                                
                                <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text bg-dark text-white" id="basic-addon1"><i class="ti-email"></i></span>
                                    </div>
                                    <input type="email" class="form-control form-control-lg" placeholder="Email" aria-label="Email" aria-describedby="basic-addon1" required name="email1" id="email1">
                                </div>
                                <!-- email -->
                                <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text bg-danger text-white" id="basic-addon1"><i class="ti-email"></i></span>
                                    </div>
                                    <input type="email" class="form-control form-control-lg" name="email2"placeholder="Confirm email" aria-label="confirm" aria-describedby="basic-addon1" id="email2" required>
                                </div>
                                <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text bg-warning text-white" id="basic-addon2"><i class="ti-pencil"></i></span>
                                    </div>
                                    <input type="password" class="form-control form-control-lg" name="password1" id="password1" placeholder="Password" aria-label="Password" aria-describedby="basic-addon1" required>
                                </div>
                                <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text bg-info text-white" id="basic-addon2"><i class="ti-pencil"></i></span>
                                    </div>
                                    <input type="password" class="form-control form-control-lg" name="confirm_password" placeholder=" Confirm Password" aria-label="Password" id="confirm_password" aria-describedby="basic-addon1" required>
                                </div>
                            </div>
                        </div>
                        <div class="row border-top border-secondary">
                            <div class="col-12">
                                <div class="form-group">
                                    <div class="p-t-20">
                                        <button class="btn btn-block btn-lg btn-info" type="submit">Sign Up</button>
                                    </div>
                                </div>
                            </div>
                        </div>
			</div>
                    </form>
                </div>
            </div>
        </div>
    </div>
   

<script>
    document.getElementById('registrationForm').addEventListener('submit', function(event) {
        event.preventDefault();
        validateForm();
    });

    function validateForm() {
        const username = document.getElementById('email1').value;
        const email = document.getElementById('email2').value;
        const password = document.getElementById('password1').value;
        const confirm_password = document.getElementById('confirm_password').value;

        if (password.includes(username) || password.includes(email)) {
            alert('Password cannot be similar to email.');
            return;
        }
        if(password!=confirm_password){
            alert('Passwords do not match')
            return;
        }

        const passwordRegex = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,}$/;
        if (!password.match(passwordRegex)) {
            alert('Password must be at least 8 characters with symbols and numbers.');
            return;
        }

        document.getElementById('registrationForm').submit();
    }
</script>
    <!-- <script src="{% static 'js/jquery.min.js' %}"></script>
    <script src="{% static 'libs/popper.js/dist/umd/popper.min.js1k' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script> -->
    <script>
    $('[data-toggle="tooltip"]').tooltip();
    $(".preloader").fadeOut();
    </script>
</body>

</html>